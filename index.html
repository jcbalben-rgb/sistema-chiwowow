<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema Chi-Wow-Wow (Acceso Seguro)</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Open+Sans:wght@400;600&display=swap');

        /* --- ESTILOS GENERALES --- */
        :root { --brand-dark: #1B2631; --brand-gold: #D4AF37; --text-main: #2C3E50; --bg-light: #F4F6F6; }
        body { font-family: 'Open Sans', sans-serif; background-color: #525659; margin: 0; padding: 20px; color: var(--text-main); }

        /* --- PANTALLA DE BLOQUEO (LOGIN) --- */
        #login-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: #1B2631; /* Fondo Azul */
            z-index: 10000; /* Capa superior */
            display: flex; justify-content: center; align-items: center;
            flex-direction: column;
        }
        .login-box {
            background: white; padding: 40px; border-radius: 12px;
            text-align: center; box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            width: 90%; max-width: 320px;
        }
        .login-logo { max-width: 140px; margin-bottom: 20px; }
        .login-input {
            width: 100%; padding: 12px; margin-bottom: 15px; border: 2px solid #ddd;
            border-radius: 6px; text-align: center; font-size: 16px; box-sizing: border-box;
        }
        .login-btn {
            background-color: #D4AF37; color: white; border: none; padding: 12px;
            width: 100%; font-weight: bold; border-radius: 6px; cursor: pointer; font-size: 16px;
        }
        .login-btn:hover { background-color: #b7950b; }
        .error-msg { color: #e74c3c; font-weight: bold; font-size: 13px; margin-top: 15px; display: none; }

        /* --- SISTEMA OCULTO --- */
        .main-container { max-width: 950px; margin: 0 auto; display: none; /* OCULTO POR DEFECTO */ }

        /* --- RESTO DEL DISE√ëO --- */
        .control-panel { background: white; padding: 25px; border-radius: 12px; margin-bottom: 40px; border-top: 6px solid var(--brand-dark); }
        .panel-title { font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--brand-dark); text-align: center; margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 10px; }
        .form-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 15px; margin-bottom: 15px; }
        .form-group label { display: block; font-size: 0.8rem; font-weight: 600; margin-bottom: 5px; text-transform: uppercase; color: #777; }
        .form-group input, .form-group select, .form-group textarea { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px; box-sizing: border-box; }
        .btn-action { background-color: var(--brand-dark); color: white; border: none; padding: 15px; width: 100%; font-weight: 700; border-radius: 6px; cursor: pointer; text-transform: uppercase; margin-top: 10px; }
        
        /* HOJAS */
        .document-page { display: none; background: white; width: 21.59cm; height: 27.94cm; margin: 0 auto 40px auto; padding: 1.5cm 2cm; position: relative; overflow: hidden; }
        
        /* ESTILOS IMPRESION */
        header { display: flex; justify-content: space-between; border-bottom: 3px solid var(--brand-dark); padding-bottom: 15px; margin-bottom: 25px; }
        .logo-img { max-width: 130px; }
        .info-columns { display: flex; gap: 20px; background: var(--bg-light); padding: 15px; margin-bottom: 25px; border-radius: 8px; }
        .info-box { flex: 1; }
        .concept-table { width: 100%; border-collapse: separate; margin-bottom: 25px; }
        .concept-table th { background: var(--brand-dark); color: white; padding: 8px; text-align: left; font-size: 0.8rem; }
        .concept-table td { padding: 10px; border-bottom: 1px solid #eee; font-size: 0.9rem; }
        
        /* CONTRATO */
        #contract-document.flex-mode { display: flex !important; flex-direction: column; justify-content: space-between; }
        .contract-header-flex { display: flex; justify-content: space-between; border-bottom: 2px solid var(--brand-gold); padding-bottom: 10px; margin-bottom: 15px; }
        .contract-logo { max-height: 50px; }
        .contract-body { font-size: 9pt; text-align: justify; line-height: 1.3; color: #333; flex-grow: 1; }
        .signatures { display: flex; justify-content: space-between; gap: 40px; margin-top: 10px; }
        .sign-box { flex: 1; border-top: 1px solid var(--brand-dark); text-align: center; padding-top: 5px; font-size: 8pt; font-weight: 700; }
        .controls { text-align: center; margin-top: 30px; display: flex; justify-content: center; gap: 20px; padding-bottom: 50px; }
        .btn-secondary { background: #95a5a6; color: white; border: none; padding: 15px 25px; border-radius: 6px; cursor: pointer; font-weight: 600; }

        @media print {
            body { background: white; padding: 0; }
            #login-overlay, .control-panel, .controls { display: none !important; }
            .main-container { display: block !important; }
            .document-page { display: block; width: 21.59cm; height: 27.94cm; margin: 0; padding: 1.5cm 2cm; page-break-after: always; }
            .document-page:last-child { page-break-after: avoid; }
        }
    </style>
</head>
<body>

    <div id="login-overlay">
        <div class="login-box">
            <img src="chiwowow 2.png" alt="Logo" class="login-logo">
            <h3 style="margin: 0 0 15px 0; color:#1B2631;">ACCESO CHI-WOW-WOW</h3>
            <input type="password" id="pass" class="login-input" placeholder="Contrase√±a">
            <button class="login-btn" onclick="entrar()">ENTRAR</button>
            <p id="aviso" class="error-msg">‚ùå Contrase√±a incorrecta</p>
        </div>
    </div>

    <div class="main-container" id="sistema">

        <div class="control-panel" id="input-form">
            <h2 class="panel-title">Nuevo Recibo / Contrato</h2>
            
            <div class="form-grid">
                <div class="form-group">
                    <label>Nombre del Cliente</label>
                    <input type="text" id="in_nombre" placeholder="Nombre completo">
                </div>
                <div class="form-group">
                    <label>Tel√©fono</label>
                    <input type="text" id="in_tel" placeholder="614...">
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="in_email" placeholder="cliente@email.com">
                </div>
            </div>

            <div class="form-grid">
                <div class="form-group" style="grid-column: span 2;">
                    <label>Servicio</label>
                    <select id="in_servicio" onchange="toggleOtro(this)">
                        <option value="Expedici√≥n Creel y Chepe">Expedici√≥n Creel y Chepe</option>
                        <option value="Viaje a la Huasteca Potosina">Viaje a la Huasteca Potosina</option>
                        <option value="Tour Barrancas del Cobre">Tour Barrancas del Cobre</option>
                        <option value="Renta de Van Sprinter">Renta de Van Sprinter</option>
                        <option value="Traslado Privado">Traslado Privado</option>
                        <option value="OTRO">OTRO (Escribir...)</option>
                    </select>
                    <input type="text" id="in_servicio_otro" style="display:none; margin-top:5px; background:#f0f0f0;" placeholder="Escriba el nombre del servicio...">
                </div>
                <div class="form-group">
                    <label>Fechas</label>
                    <input type="text" id="in_fechas" placeholder="Ej. 12 al 15 Oct">
                </div>
                <div class="form-group">
                    <label>Pasajeros</label>
                    <input type="number" id="in_pax" value="1">
                </div>
            </div>

            <div class="form-group">
                <label>Notas / Observaciones</label>
                <textarea id="in_notas" rows="2"></textarea>
            </div>

            <div class="form-grid" style="border-top: 2px solid #eee; padding-top:20px; margin-top:20px;">
                <div class="form-group">
                    <label>Total ($)</label>
                    <input type="number" id="in_total" placeholder="0.00">
                </div>
                <div class="form-group">
                    <label>Abono ($)</label>
                    <input type="number" id="in_abono" placeholder="0.00">
                </div>
                <div class="form-group">
                    <label>M√©todo de Pago</label>
                    <select id="in_metodo">
                        <option>Transferencia</option>
                        <option>Dep√≥sito</option>
                        <option>Tarjeta</option>
                        <option>Efectivo</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Fecha Emisi√≥n</label>
                    <input type="date" id="in_fecha">
                </div>
            </div>

            <button class="btn-action" onclick="generar()">GENERAR DOCUMENTOS</button>
        </div>

        <div id="receipt-document" class="document-page">
            <header>
                <div>
                    <img src="chiwowow 2.png" class="logo-img">
                    <div style="font-weight:700; color:#1B2631; font-family:'Montserrat'; font-size:18px;">CHIWOW-WOW A & T</div>
                    <div class="fiscal-details">
                        <strong>RAZ√ìN SOCIAL:</strong> CHIWOW-WOW A & T, S.A. DE C.V.<br>
                        <strong>RFC:</strong> CAT2205094P0<br>
                        Av. Heroico Colegio Militar #7716, Chihuahua, Chih.<br>
                    </div>
                </div>
                <div style="text-align:right;">
                    <div style="font-family:'Montserrat'; font-weight:700; font-size:24px; color:#1B2631;">RECIBO</div>
                    <div style="color:#D4AF37; font-weight:700; font-size:1.2rem; margin-top:5px;" id="out_folio">#00000</div>
                    <div style="font-size:0.9rem; margin-top:5px;" id="out_fecha_emision"></div>
                </div>
            </header>

            <div class="info-columns">
                <div class="info-box">
                    <div style="font-weight:700; color:#1B2631; border-bottom:2px solid #D4AF37; display:inline-block; margin-bottom:5px;">CLIENTE</div>
                    <div id="out_cliente" style="font-weight:600;"></div>
                    <div id="out_tel"></div>
                    <div id="out_email"></div>
                </div>
                <div class="info-box" style="border-left:1px solid #ccc; padding-left:20px;">
                    <div style="font-weight:700; color:#1B2631; border-bottom:2px solid #D4AF37; display:inline-block; margin-bottom:5px;">SERVICIO</div>
                    <div id="out_servicio" style="font-weight:600;"></div>
                    <div>Fechas: <span id="out_fechas"></span></div>
                    <div>Pax: <span id="out_pax"></span></div>
                </div>
            </div>

            <table class="concept-table">
                <thead><tr><th>Concepto</th><th style="text-align:right;">Importe</th></tr></thead>
                <tbody>
                    <tr>
                        <td>Costo Total del Servicio<br><small id="out_notas" style="font-style:italic; color:#666;"></small></td>
                        <td style="text-align:right; font-weight:600;" id="out_total"></td>
                    </tr>
                    <tr>
                        <td>Abono Recibido (<span id="out_metodo"></span>)</td>
                        <td style="text-align:right; color:#c0392b;" id="out_abono"></td>
                    </tr>
                </tbody>
            </table>

            <div style="text-align:right; margin-top:20px; font-size:1.2rem; font-weight:700; color:#1B2631;">
                Saldo Pendiente: <span id="out_saldo"></span>
            </div>
            
            <div style="position:absolute; bottom:30px; width:100%; text-align:center; font-size:0.7rem; color:#888;">
                Este documento es un comprobante interno. Tel: 614 286 0572.
            </div>
        </div>

        <div id="contract-document" class="document-page">
            <div class="contract-header-flex">
                <div>
                    <img src="chiwowow 2.png" class="contract-logo">
                    <div style="font-weight:700; font-size:12px;">CHIWOW-WOW A & T</div>
                </div>
                <div style="text-align:right;">
                    <div style="font-weight:700; font-size:16px;">CONTRATO DE SERVICIOS</div>
                    <div style="font-size:10px; color:#D4AF37; font-weight:700;">FOLIO: <span id="contrato_folio"></span></div>
                </div>
            </div>

            <div style="background:#f9f9f9; padding:10px; margin-bottom:15px; border-left:4px solid #1B2631; display:flex; justify-content:space-between; font-size:9pt;">
                <div><strong>TITULAR:</strong> <span id="contrato_cliente"></span></div>
                <div><strong>FECHA:</strong> <span id="contrato_fecha"></span></div>
            </div>

            <div class="contract-body">
                <p>Contrato de servicios tur√≠sticos entre <strong>CHIWOW-WOW A & T, S.A. DE C.V.</strong> y "EL CLIENTE". Al realizar cualquier pago, se aceptan las siguientes cl√°usulas:</p>

                <div class="contract-clause">
                    <span class="clause-title">1. COMPROMISO Y GARANT√çA</span>
                    <div class="sub-clause"><strong>Calidad y Seguridad:</strong> Unidades garantizadas en √≥ptimas condiciones, operadores con Licencia Federal y Seguro de Viajero vigente.</div>
                </div>

                <div class="contract-clause">
                    <span class="clause-title">2. PAGOS Y LIQUIDACI√ìN</span>
                    <div class="sub-clause"><strong>Anticipo:</strong> NO REEMBOLSABLE. Garantiza disponibilidad.</div>
                    <div class="sub-clause"><strong>Liquidaci√≥n:</strong> Debe cubrirse 100% al menos <strong>3 d√≠as (72 horas) antes</strong> del viaje, de lo contrario se cancela sin devoluci√≥n.</div>
                </div>

                <div class="contract-clause">
                    <span class="clause-title">3. CANCELACI√ìN</span>
                    <div class="sub-clause"><strong>Por Cliente:</strong> Cancelaci√≥n o "No Show" no tiene devoluci√≥n (pena convencional).</div>
                    <div class="sub-clause"><strong>Fuerza Mayor:</strong> (Clima, bloqueos) Se ofrece CAMBIO DE FECHA, no reembolso.</div>
                </div>

                <div class="contract-clause">
                    <span class="clause-title">4. REGLAMENTO</span>
                    <div class="sub-clause"><strong>Prohibido:</strong> Alcohol, estupefacientes y fumar/vapear en la unidad.</div>
                    <div class="sub-clause"><strong>Da√±os:</strong> El cliente cubre costos por da√±os o suciedad excesiva de inmediato.</div>
                </div>

                <div class="contract-clause">
                    <span class="clause-title">5. LOG√çSTICA</span>
                    <div class="sub-clause"><strong>Tolerancia:</strong> M√°ximo 10 minutos a la salida.</div>
                </div>
            </div>

            <div class="bottom-section">
                <div class="manual-space-indicator"></div>
                <div class="legal-footer">
                    JURISDICCI√ìN: Tribunales de Chihuahua, Chih. Renunciando a cualquier otro fuero.
                </div>
                <div class="acceptance-text">ACEPTO T√âRMINOS Y CONDICIONES</div>
                <div class="signatures">
                    <div class="sign-box"><br><br><br>CHIWOW-WOW A & T</div>
                    <div class="sign-box"><br><br><br>CLIENTE TITULAR</div>
                </div>
            </div>
        </div>

        <div class="controls" id="btn-container">
            <button class="btn-action" style="width:auto; padding:15px 30px;" onclick="window.print()">üñ®Ô∏è IMPRIMIR / PDF</button>
            <button class="btn-secondary" onclick="editar()">‚úèÔ∏è EDITAR</button>
        </div>

    </div>

    <script>
        // --- FUNCI√ìN PARA ENTRAR (CONTRASE√ëA) ---
        function entrar() {
            var pass = document.getElementById('pass').value;
            var aviso = document.getElementById('aviso');

            // *** AQU√ç EST√Å TU CONTRASE√ëA ***
            // Si quieres cambiarla, cambia la palabra "chiwowow"
            if (pass.toLowerCase() === "GRchiwowow") {
                // Si es correcta:
                document.getElementById('login-overlay').style.display = 'none'; // Oculta login
                document.getElementById('sistema').style.display = 'block';    // Muestra sistema
            } else {
                // Si es incorrecta:
                aviso.style.display = 'block';
                document.getElementById('pass').value = ''; // Borra lo escrito
            }
        }

        // Permitir entrar con tecla ENTER
        document.getElementById('pass').addEventListener("keypress", function(e) {
            if (e.key === "Enter") entrar();
        });

        // --- FUNCIONES DEL SISTEMA ---
        document.getElementById('in_fecha').valueAsDate = new Date();

        function toggleOtro(select) {
            var otroInput = document.getElementById('in_servicio_otro');
            if (select.value === 'OTRO') {
                otroInput.style.display = 'block';
            } else {
                otroInput.style.display = 'none';
            }
        }

        function generar() {
            var nombre = document.getElementById('in_nombre').value || ".............................";
            var folio = "CWW-" + Math.floor(10000 + Math.random() * 90000);
            var fechaHoy = new Date(document.getElementById('in_fecha').value).toLocaleDateString('es-MX');

            // Llenar datos en Recibo
            document.getElementById('out_folio').innerText = folio;
            document.getElementById('out_fecha_emision').innerText = fechaHoy;
            document.getElementById('out_cliente').innerText = nombre;
            document.getElementById('out_tel').innerText = document.getElementById('in_tel').value;
            document.getElementById('out_email').innerText = document.getElementById('in_email').value;
            
            var servicio = document.getElementById('in_servicio').value;
            if (servicio === 'OTRO') servicio = document.getElementById('in_servicio_otro').value;
            document.getElementById('out_servicio').innerText = servicio;
            
            document.getElementById('out_fechas').innerText = document.getElementById('in_fechas').value;
            document.getElementById('out_pax').innerText = document.getElementById('in_pax').value;
            
            var notas = document.getElementById('in_notas').value;
            document.getElementById('out_notas').innerText = notas ? "Nota: " + notas : "";

            // C√°lculos
            var total = parseFloat(document.getElementById('in_total').value) || 0;
            var abono = parseFloat(document.getElementById('in_abono').value) || 0;
            var saldo = total - abono;
            var metodo = document.getElementById('in_metodo').value;

            var fmt = new Intl.NumberFormat('es-MX', { style: 'currency', currency: 'MXN' });
            document.getElementById('out_total').innerText = fmt.format(total);
            document.getElementById('out_abono').innerText = "- " + fmt.format(abono);
            document.getElementById('out_metodo').innerText = metodo;

            var divSaldo = document.getElementById('out_saldo');
            if(saldo <= 0.1) {
                divSaldo.innerHTML = "<span style='color:green'>" + fmt.format(0) + " (LIQUIDADO)</span>";
            } else {
                divSaldo.innerHTML = "<span style='color:red'>" + fmt.format(saldo) + "</span>";
            }

            // Llenar datos en Contrato
            document.getElementById('contrato_folio').innerText = folio;
            document.getElementById('contrato_cliente').innerText = nombre;
            document.getElementById('contrato_fecha').innerText = fechaHoy;

            // Mostrar documentos
            document.getElementById('input-form').style.display = 'none';
            document.getElementById('receipt-document').style.display = 'block';
            var contrato = document.getElementById('contract-document');
            contrato.style.display = 'block';
            contrato.classList.add('flex-mode');
            document.getElementById('btn-container').style.display = 'flex';
            window.scrollTo(0, 0);
        }

        function editar() {
            document.getElementById('input-form').style.display = 'block';
            document.getElementById('receipt-document').style.display = 'none';
            var contrato = document.getElementById('contract-document');
            contrato.style.display = 'none';
            contrato.classList.remove('flex-mode');
            document.getElementById('btn-container').style.display = 'none';
            window.scrollTo(0, 0);
        }
    </script>
</body>
</html>
